{
    "type": "object",
    "order": [
        "name",
        "@type",
        "enabled",
        "xmlId",
        "metadataURL",
        "initializeFromBackupFile",
        "backingFile",
        "backupFileInitNextRefreshDelay",
        "requireValidMetadata",
        "failFastInitialization",
        "useDefaultPredicateRegistry",
        "satisfyAnyPredicates",
        "httpMetadataResolverAttributes",
        "reloadableMetadataResolverAttributes",
        "metadataFilters"
    ],
    "required": [
        "name",
        "@type",
        "xmlId",
        "metadataURL",
        "backingFile",
        "backupFileInitNextRefreshDelay"
    ],
    "properties": {
        "name": {
            "title": "label.metadata-provider-name-dashboard-display-only",
            "description": "tooltip.metadata-provider-name-dashboard-display-only",
            "type": "string",
            "widget": {
                "id": "string",
                "help": "message.must-be-unique"
            }
        },
        "@type": {
            "title": "label.metadata-provider-type",
            "description": "tooltip.metadata-provider-type",
            "placeholder": "label.select-metadata-type",
            "type": "string",
            "readOnly": true,
            "widget": {
                "id": "select",
                "disabled": true
            },
            "oneOf": [
                {
                    "enum": [
                        "FileBackedHttpMetadataResolver"
                    ],
                    "description": "value.file-backed-http-metadata-provider"
                }
            ]
        },
        "enabled": {
            "title": "label.enable-service",
            "description": "tooltip.enable-service",
            "type": "boolean",
            "default": false
        },
        "xmlId": {
            "title": "label.xml-id",
            "description": "tooltip.xml-id",
            "type": "string",
            "default": "",
            "minLength": 1
        },
        "metadataURL": {
            "title": "label.metadata-url",
            "description": "tooltip.metadata-url",
            "type": "string",
            "default": "",
            "minLength": 1
        },
        "initializeFromBackupFile": {
            "title": "label.init-from-backup",
            "description": "tooltip.init-from-backup",
            "type": "boolean",
            "widget": {
                "id": "boolean-radio"
            },
            "oneOf": [
                {
                    "enum": [
                        true
                    ],
                    "description": "value.true"
                },
                {
                    "enum": [
                        false
                    ],
                    "description": "value.false"
                }
            ],
            "default": true
        },
        "backingFile": {
            "title": "label.backing-file",
            "description": "tooltip.backing-file",
            "type": "string",
            "default": ""
        },
        "backupFileInitNextRefreshDelay": {
            "title": "label.backup-file-init-refresh-delay",
            "description": "tooltip.backup-file-init-refresh-delay",
            "type": "string",
            "widget": {
                "id": "datalist",
                "data": [
                    "PT0S",
                    "PT30S",
                    "PT1M",
                    "PT10M",
                    "PT30M",
                    "PT1H",
                    "PT4H",
                    "PT12H",
                    "PT24H"
                ]
            },
            "default": null,
            "pattern": "^(R\\d*\\/)?P(?:\\d+(?:\\.\\d+)?Y)?(?:\\d+(?:\\.\\d+)?M)?(?:\\d+(?:\\.\\d+)?W)?(?:\\d+(?:\\.\\d+)?D)?(?:T(?:\\d+(?:\\.\\d+)?H)?(?:\\d+(?:\\.\\d+)?M)?(?:\\d+(?:\\.\\d+)?S)?)?$"
        },
        "requireValidMetadata": {
            "title": "label.require-valid-metadata",
            "description": "tooltip.require-valid-metadata",
            "type": "boolean",
            "widget": {
                "id": "boolean-radio"
            },
            "oneOf": [
                {
                    "enum": [
                        true
                    ],
                    "description": "value.true"
                },
                {
                    "enum": [
                        false
                    ],
                    "description": "value.false"
                }
            ],
            "default": true
        },
        "failFastInitialization": {
            "title": "label.fail-fast-init",
            "description": "tooltip.fail-fast-init",
            "type": "boolean",
            "widget": {
                "id": "boolean-radio"
            },
            "oneOf": [
                {
                    "enum": [
                        true
                    ],
                    "description": "value.true"
                },
                {
                    "enum": [
                        false
                    ],
                    "description": "value.false"
                }
            ],
            "default": true
        },
        "useDefaultPredicateRegistry": {
            "title": "label.use-default-predicate-reg",
            "description": "tooltip.use-default-predicate-reg",
            "type": "boolean",
            "widget": {
                "id": "boolean-radio"
            },
            "oneOf": [
                {
                    "enum": [
                        true
                    ],
                    "description": "value.true"
                },
                {
                    "enum": [
                        false
                    ],
                    "description": "value.false"
                }
            ],
            "default": true
        },
        "satisfyAnyPredicates": {
            "$id": "satisfyAnyPredicates",
            "title": "label.satisfy-any-predicates",
            "description": "tooltip.satisfy-any-predicates",
            "type": "boolean",
            "widget": {
                "id": "boolean-radio"
            },
            "oneOf": [
                {
                    "enum": [
                        true
                    ],
                    "description": "value.true"
                },
                {
                    "enum": [
                        false
                    ],
                    "description": "value.false"
                }
            ],
            "default": false
        },
        "httpMetadataResolverAttributes": {
            "$id": "httpMetadataResolverAttributes",
            "order": [],
            "type": "object",
            "fieldsets": [
                {
                    "title": "label.http-connection-attributes",
                    "type": "section",
                    "fields": [
                        "connectionRequestTimeout",
                        "connectionTimeout",
                        "socketTimeout"
                    ]
                },
                {
                    "title": "label.http-security-attributes",
                    "type": "section",
                    "class": "col-12",
                    "fields": [
                        "disregardTLSCertificate"
                    ]
                },
                {
                    "title": "label.http-proxy-attributes",
                    "type": "section",
                    "class": "col-12",
                    "fields": [
                        "proxyHost",
                        "proxyPort",
                        "proxyUser",
                        "proxyPassword"
                    ]
                },
                {
                    "title": "label.http-caching-attributes",
                    "type": "section",
                    "class": "col-12",
                    "fields": [
                        "httpCaching",
                        "httpCacheDirectory",
                        "httpMaxCacheEntries",
                        "httpMaxCacheEntrySize"
                    ]
                },
                {
                    "title": "",
                    "type": "hidden",
                    "class": "col-12",
                    "fields": [
                        "tlsTrustEngineRef",
                        "httpClientSecurityParametersRef",
                        "httpClientRef"
                    ]
                }
            ],
            "properties": {
                "httpClientRef": {
                    "type": "string",
                    "title": "",
                    "description": "",
                    "placeholder": "",
                    "widget": "hidden"
                },
                "connectionRequestTimeout": {
                    "type": "string",
                    "title": "label.connection-request-timeout",
                    "description": "tooltip.connection-request-timeout",
                    "placeholder": "label.duration",
                    "widget": {
                        "id": "datalist",
                        "data": [
                            "PT0S",
                            "PT30S",
                            "PT1M",
                            "PT10M",
                            "PT30M",
                            "PT1H",
                            "PT4H",
                            "PT12H",
                            "PT24H"
                        ]
                    },
                    "pattern": "^(R\\d*\\/)?P(?:\\d+(?:\\.\\d+)?Y)?(?:\\d+(?:\\.\\d+)?M)?(?:\\d+(?:\\.\\d+)?W)?(?:\\d+(?:\\.\\d+)?D)?(?:T(?:\\d+(?:\\.\\d+)?H)?(?:\\d+(?:\\.\\d+)?M)?(?:\\d+(?:\\.\\d+)?S)?)?$"
                },
                "connectionTimeout": {
                    "type": "string",
                    "title": "label.connection-timeout",
                    "description": "tooltip.connection-timeout",
                    "placeholder": "label.duration",
                    "widget": {
                        "id": "datalist",
                        "data": [
                            "PT0S",
                            "PT30S",
                            "PT1M",
                            "PT10M",
                            "PT30M",
                            "PT1H",
                            "PT4H",
                            "PT12H",
                            "PT24H"
                        ]
                    },
                    "pattern": "^(R\\d*\\/)?P(?:\\d+(?:\\.\\d+)?Y)?(?:\\d+(?:\\.\\d+)?M)?(?:\\d+(?:\\.\\d+)?W)?(?:\\d+(?:\\.\\d+)?D)?(?:T(?:\\d+(?:\\.\\d+)?H)?(?:\\d+(?:\\.\\d+)?M)?(?:\\d+(?:\\.\\d+)?S)?)?$"
                },
                "socketTimeout": {
                    "type": "string",
                    "title": "label.socket-timeout",
                    "description": "tooltip.socket-timeout",
                    "placeholder": "label.duration",
                    "widget": {
                        "id": "datalist",
                        "data": [
                            "PT0S",
                            "PT30S",
                            "PT1M",
                            "PT10M",
                            "PT30M",
                            "PT1H",
                            "PT4H",
                            "PT12H",
                            "PT24H"
                        ]
                    },
                    "pattern": "^(R\\d*\\/)?P(?:\\d+(?:\\.\\d+)?Y)?(?:\\d+(?:\\.\\d+)?M)?(?:\\d+(?:\\.\\d+)?W)?(?:\\d+(?:\\.\\d+)?D)?(?:T(?:\\d+(?:\\.\\d+)?H)?(?:\\d+(?:\\.\\d+)?M)?(?:\\d+(?:\\.\\d+)?S)?)?$"
                },
                "disregardTLSCertificate": {
                    "type": "boolean",
                    "title": "label.disregard-tls-cert",
                    "description": "tooltip.disregard-tls-cert",
                    "widget": {
                        "id": "boolean-radio"
                    },
                    "oneOf": [
                        {
                            "enum": [
                                true
                            ],
                            "description": "True"
                        },
                        {
                            "enum": [
                                false
                            ],
                            "description": "False"
                        }
                    ]
                },
                "tlsTrustEngineRef": {
                    "type": "string",
                    "title": "",
                    "description": "",
                    "placeholder": "",
                    "widget": "hidden"
                },
                "httpClientSecurityParametersRef": {
                    "type": "string",
                    "title": "",
                    "description": "",
                    "placeholder": "",
                    "widget": "hidden"
                },
                "proxyHost": {
                    "type": "string",
                    "title": "label.proxy-host",
                    "description": "tooltip.proxy-host",
                    "placeholder": ""
                },
                "proxyPort": {
                    "type": "string",
                    "title": "label.proxy-port",
                    "description": "tooltip.proxy-port",
                    "placeholder": ""
                },
                "proxyUser": {
                    "type": "string",
                    "title": "label.proxy-user",
                    "description": "tooltip.proxy-user",
                    "placeholder": ""
                },
                "proxyPassword": {
                    "type": "string",
                    "title": "label.proxy-password",
                    "description": "tooltip.proxy-password",
                    "placeholder": ""
                },
                "httpCaching": {
                    "type": "string",
                    "title": "label.http-caching",
                    "description": "tooltip.http-caching",
                    "placeholder": "label.select-caching-type",
                    "widget": {
                        "id": "select"
                    },
                    "oneOf": [
                        {
                            "enum": [
                                "none"
                            ],
                            "description": "value.none"
                        },
                        {
                            "enum": [
                                "file"
                            ],
                            "description": "value.file"
                        },
                        {
                            "enum": [
                                "memory"
                            ],
                            "description": "value.memory"
                        }
                    ]
                },
                "httpCacheDirectory": {
                    "type": "string",
                    "title": "label.http-caching-directory",
                    "description": "tooltip.http-caching-directory",
                    "placeholder": ""
                },
                "httpMaxCacheEntries": {
                    "type": "integer",
                    "title": "label.http-max-cache-entries",
                    "description": "tooltip.http-max-cache-entries",
                    "placeholder": "",
                    "minimum": 0
                },
                "httpMaxCacheEntrySize": {
                    "type": "integer",
                    "title": "label.max-cache-entry-size",
                    "description": "tooltip.max-cache-entry-size",
                    "placeholder": "",
                    "minimum": 0
                }
            }
        },
        "reloadableMetadataResolverAttributes": {
            "$id": "reloadableMetadataResolverAttributes",
            "type": "object",
            "properties": {
                "minRefreshDelay": {
                    "title": "label.min-refresh-delay",
                    "description": "tooltip.min-refresh-delay",
                    "type": "string",
                    "placeholder": "label.duration",
                    "widget": {
                        "id": "datalist",
                        "data": [
                            "PT0S",
                            "PT30S",
                            "PT1M",
                            "PT10M",
                            "PT30M",
                            "PT1H",
                            "PT4H",
                            "PT12H",
                            "PT24H"
                        ]
                    },
                    "default": null,
                    "pattern": "^(R\\d*\\/)?P(?:\\d+(?:\\.\\d+)?Y)?(?:\\d+(?:\\.\\d+)?M)?(?:\\d+(?:\\.\\d+)?W)?(?:\\d+(?:\\.\\d+)?D)?(?:T(?:\\d+(?:\\.\\d+)?H)?(?:\\d+(?:\\.\\d+)?M)?(?:\\d+(?:\\.\\d+)?S)?)?$"
                },
                "maxRefreshDelay": {
                    "title": "label.max-refresh-delay",
                    "description": "tooltip.max-refresh-delay",
                    "type": "string",
                    "placeholder": "label.duration",
                    "widget": {
                        "id": "datalist",
                        "data": [
                            "PT0S",
                            "PT30S",
                            "PT1M",
                            "PT10M",
                            "PT30M",
                            "PT1H",
                            "PT4H",
                            "PT12H",
                            "PT24H"
                        ]
                    },
                    "default": null,
                    "pattern": "^(R\\d*\\/)?P(?:\\d+(?:\\.\\d+)?Y)?(?:\\d+(?:\\.\\d+)?M)?(?:\\d+(?:\\.\\d+)?W)?(?:\\d+(?:\\.\\d+)?D)?(?:T(?:\\d+(?:\\.\\d+)?H)?(?:\\d+(?:\\.\\d+)?M)?(?:\\d+(?:\\.\\d+)?S)?)?$"
                },
                "refreshDelayFactor": {
                    "title": "label.refresh-delay-factor",
                    "description": "tooltip.refresh-delay-factor",
                    "type": "number",
                    "widget": {
                        "id": "float",
                        "help": "message.real-number",
                        "step": 0.01
                    },
                    "placeholder": "label.real-number",
                    "minimum": 0.001,
                    "maximum": 0.999
                }
            }
        },
        "metadataFilters": {
            "$id": "metadataFilters",
            "title": "",
            "description": "",
            "type": "array",
            "additionalItems": true,
            "items": [
                {
                    "$id": "RequiredValidUntil",
                    "title": "label.required-valid-until",
                    "type": "object",
                    "widget": {
                        "id": "fieldset"
                    },
                    "properties": {
                        "maxValidityInterval": {
                            "title": "label.max-validity-interval",
                            "description": "tooltip.max-validity-interval",
                            "type": "string",
                            "placeholder": "label.duration",
                            "widget": {
                                "id": "datalist",
                                "data": [
                                    "PT0S",
                                    "PT30S",
                                    "PT1M",
                                    "PT10M",
                                    "PT30M",
                                    "PT1H",
                                    "PT4H",
                                    "PT12H",
                                    "PT24H"
                                ]
                            },
                            "default": null,
                            "pattern": "^(R\\d*\\/)?P(?:\\d+(?:\\.\\d+)?Y)?(?:\\d+(?:\\.\\d+)?M)?(?:\\d+(?:\\.\\d+)?W)?(?:\\d+(?:\\.\\d+)?D)?(?:T(?:\\d+(?:\\.\\d+)?H)?(?:\\d+(?:\\.\\d+)?M)?(?:\\d+(?:\\.\\d+)?S)?)?$"
                        }
                    }
                },
                {
                    "$id": "SignatureValidation",
                    "title": "label.signature-validation-filter",
                    "type": "object",
                    "widget": {
                        "id": "fieldset"
                    },
                    "properties": {
                        "requireSignedRoot": {
                            "title": "label.require-signed-root",
                            "description": "tooltip.require-signed-root",
                            "type": "boolean",
                            "default": true
                        },
                        "certificateFile": {
                            "title": "label.certificate-file",
                            "description": "tooltip.certificate-file",
                            "type": "string"
                        }
                    },
                    "anyOf": [
                        {
                            "properties": {
                                "requireSignedRoot": {
                                    "enum": [
                                        true
                                    ]
                                }
                            },
                            "required": [
                                "certificateFile"
                            ]
                        },
                        {
                            "properties": {
                                "requireSignedRoot": {
                                    "enum": [
                                        false
                                    ]
                                }
                            }
                        }
                    ]
                },
                {
                    "$id": "EntityRoleWhiteList",
                    "title": "label.entity-role-whitelist",
                    "type": "object",
                    "widget": {
                        "id": "fieldset"
                    },
                    "properties": {
                        "retainedRoles": {
                            "title": "label.retained-roles",
                            "description": "tooltip.retained-roles",
                            "type": "array",
                            "items": {
                                "widget": {
                                    "id": "select"
                                },
                                "type": "string",
                                "oneOf": [
                                    {
                                        "enum": [
                                            "SPSSODescriptor"
                                        ],
                                        "description": "value.spdescriptor"
                                    },
                                    {
                                        "enum": [
                                            "AttributeAuthorityDescriptor"
                                        ],
                                        "description": "value.attr-auth-descriptor"
                                    }
                                ]
                            }
                        },
                        "removeRolelessEntityDescriptors": {
                            "title": "label.remove-roleless-entity-descriptors",
                            "description": "tooltip.remove-roleless-entity-descriptors",
                            "type": "boolean",
                            "default": true
                        },
                        "removeEmptyEntitiesDescriptors": {
                            "title": "label.remove-empty-entities-descriptors",
                            "description": "tooltip.remove-empty-entities-descriptors",
                            "type": "boolean",
                            "default": true
                        }
                    }
                }
            ]
        }
    }
}