<div class="table-responsive mt-3" *ngIf="entities">
    <table class="table table-striped w-100 table-hover">
        <thead>
            <th><translate-i18n key="label.title">Title</translate-i18n></th>
            <th class="w-40"><translate-i18n key="label.entity-id">Entity ID</translate-i18n></th>
            <th class="w-15"><translate-i18n key="label.author">Author</translate-i18n></th>
            <th class="w-15"><translate-i18n key="label.creation-date">Created Date</translate-i18n></th>
            <th class="text-center w-15"><translate-i18n key="label.enabled">Enabled</translate-i18n></th>
            <th class=""></th>
        </thead>
        <tbody infiniteScroll [infiniteScrollDistance]="2" [infiniteScrollThrottle]="50" (scrolled)="scroll.emit()">
            <tr *ngFor="let resolver of entities; index as i">
                <td *ngIf="!resolver.isDraft()">
                    <a [routerLink]="['/', 'metadata', 'resolver', resolver.getId(), 'configuration', 'options']">{{ resolver.name }}</a>
                </td>
                <td *ngIf="resolver.isDraft()">
                    <a [routerLink]="['/', 'metadata', 'resolver', 'new', 'blank', 'common']"
                        [queryParams]="{'id': resolver.getId()}">{{ resolver.name }}</a>
                </td>
                <td [attr.aria-label]="resolver.getDisplayId()">{{ resolver.getDisplayId() }}</td>
                <td [attr.aria-label]="resolver.createdBy">{{ resolver.createdBy ? resolver.createdBy : '&mdash;' }}</td>
                <td [attr.aria-label]="resolver.getCreationDate() ? (resolver.getCreationDate() | customDate) : 'unknown'">
                    {{ resolver.getCreationDate() ? (resolver.getCreationDate() | customDate) : '&mdash;' }}
                </td>
                <td class="text-center">
                    <span *ngIf="resolver.isDraft()">
                        <span class="badge badge-warning" tabindex="0" aria-label="Warning Badge: Incomplete Form">
                            <translate-i18n key="message.incomplete-form">
                            Incomplete Form
                            </translate-i18n>
                        </span>
                    </span>
                    <ng-container *ngIf="!!toggleEnabled.observers.length">
                        <button
                            class="btn btn-success btn-sm"
                            (click)="toggleEnabled.emit(resolver); $event.stopPropagation()"
                            aria-label="Enable this service provider">
                            <translate-i18n *ngIf="resolver.enabled" key="label.disable">Disable</translate-i18n>
                            <translate-i18n *ngIf="!resolver.enabled" key="label.enable">Enable</translate-i18n>
                            <i class="fa fa-fw fa-check fa-lg" *ngIf="!resolver.enabled"></i>
                        </button>
                    </ng-container>
                    <ng-container *ngIf="!toggleEnabled.observers.length">
                        <span tabindex="0"
                            [attr.aria-label]="(resolver.enabled ? 'value.enabled' : 'value.disabled') | translate"
                            class="badge"
                            *ngIf="!resolver.isDraft()"
                            [class.badge-danger]="!resolver.enabled"
                            [class.badge-success]="resolver.enabled">
                            {{ (resolver.enabled ? 'value.enabled' : 'value.disabled') | translate }}
                        </span>
                    </ng-container>
                </td>
                <td class="text-right">
                    <button class="btn btn-outline btn-sm btn-danger" (click)="delete.emit({
                        entity: resolver,
                        draft: resolver.isDraft()
                    })">
                        <span class="sr-only">Delete</span>
                        <i class="fa fa-trash"></i>
                    </button>
                </td>
            </tr>
        </tbody>
    </table>
</div>