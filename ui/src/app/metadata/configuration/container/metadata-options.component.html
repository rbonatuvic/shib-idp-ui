<h2 class="mb-4" [ngSwitch]="type$ | async">
    <ng-container *ngSwitchCase="'resolver'"><translate-i18n key="label.source">Source</translate-i18n></ng-container>
    <ng-container *ngSwitchDefault><translate-i18n key="label.provider">Provider</translate-i18n></ng-container>
    Configuration
</h2>
<div class="container" id="header" [ngSwitch]="type$ | async">
    <metadata-header
        [isEnabled]="isEnabled$ | async"
        [version]="model$ | async"
        [isCurrent]="true">
        <div *ngSwitchCase="'resolver'"
            class="align-self-start"
            [ngbPopover]="(isEnabled$ | async) ? 'A metadata source must be disabled before it can be deleted.' : null"
            [openDelay]="300" placement="left" triggers="mouseenter:mouseleave">
            <button class="btn btn-outline btn-sm btn-danger align-self-start" (click)="deleteResolver(id, enabled)"
                 [disabled]="(isEnabled$ | async)">
                <translate-i18n key="action.delete">Delete</translate-i18n>
                <i class="fa fa-trash ml-2"></i>
            </button>
        </div>
    </metadata-header>
    <div class="px-3 my-3 d-flex justify-content-between" id="navigation">
        <div>
            <a class="btn btn-link" routerLink="../history">
                <i class="fa fa-history sr-hidden"></i>&nbsp;
                <translate-i18n key="action.version-history">Version History</translate-i18n>
            </a>
            <button class="btn btn-link" (click)="onScrollTo('filters')" *ngIf="kind === 'provider'">
                <i class="fa fa-arrow-down sr-hidden"></i>&nbsp;
                <translate-i18n key="label.filters">Filters</translate-i18n>
            </button>
        </div>
        <div *ngIf="hasXml$ | async">
            <div class="btn-group" role="group" aria-label="Options selected">
                <a class="btn" routerLink="../options" routerLinkActive="btn-primary" aria-pressed="true">
                    <span class="sr-only"><translate-i18n key="action.toggle-view">Toggle view:</translate-i18n></span>
                    Options
                </a>
                <a class="btn" routerLink="../xml" routerLinkActive="btn-primary">
                    <span class="sr-only"><translate-i18n key="action.toggle-view">Toggle view:</translate-i18n></span>
                    XML
                </a>
            </div>
        </div>
    </div>
    <ng-container *ngIf="configuration$ | async">
        <metadata-configuration
            [configuration]="configuration$ | async"
            (onEdit)="edit($event)"
            id="configuration">
        </metadata-configuration>
    </ng-container>
    <ng-container *ngIf="!(configuration$ | async)">
        <div class="d-flex justify-content-center">
            <i class="fa fa-spinner fa-pulse fa-4x fa-fw"></i>
            <span class="sr-only">Loading...</span>
        </div>
    </ng-container>
    <div id="filters">
        <ng-container *ngIf="kind === 'provider'">
            <div class="numbered-header d-flex justify-content-start bg-light align-items-center">
                <h2 class="title h4 m-0 ml-2 flex-grow-1">
                    <span class="text"><translate-i18n key="label.filters">Filters</translate-i18n></span>
                    <span class="text"><translate-i18n key="label.filters">Filters</translate-i18n></span>
                </h2>
                <div class="actions px-2">
                    <a class="btn btn-link edit-link change-view"
                        [routerLink]="['/', 'metadata', 'provider', id, 'filter', 'new']">
                        <i class="fa fa-gear"></i>&nbsp;
                        <translate-i18n key="action.add-filter">Add Filter</translate-i18n>
                    </a>
                </div>
            </div>
            <filter-configuration-list
                (onUpdateOrderDown)="updateOrderDown($event)"
                (onUpdateOrderUp)="updateOrderUp($event)"
                (onRemove)="removeFilter($event)"
                [filters]="filters$ | async"></filter-configuration-list>
        </ng-container>
    </div>
    <button class="btn btn-link" (click)="onScrollTo('header')">
        <i class="fa fa-chevron-up sr-hidden"></i>&nbsp;
        <translate-i18n key="action.back-to-top">Back to Top</translate-i18n>
    </button>
</div>