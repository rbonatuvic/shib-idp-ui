<div class="row">
    <div class="col col-xs-12 col-xl-6">
        <form [formGroup]="providerForm" role="form">
            <ul class="nav nav-wizard m-3">
                <li class="nav-item">
                    <h3 class="tag tag-primary">
                        <span class="index">1</span>
                        <ng-container i18n="@@label--name-and-entityid">1. Name and EntityId</ng-container>
                    </h3>
                </li>
                <li class="nav-item">
                    <button class="nav-link next btn clearfix" (click)="next()" [disabled]="providerForm.invalid" aria-label="Next: Step 2, Organization information"
                        role="button">
                        <span class="label pull-left" i18n="@@label--finish-validate">
                            Finished!
                        </span>
                        <span class="direction pull-right">
                            <i class="fa fa-fw fa-arrow-circle-right d-block fa-2x"></i>
                            <ng-container i18n="@@action--next">Next</ng-container>
                        </span>
                    </button>
                </li>
            </ul>
            <fieldset class="bg-light border rounded p-4">
                <div class="form-group">
                    <label for="serviceProviderName">
                        <ng-container i18n="@@label--select-entity-id-to-copy">Select the Entity ID to copy</ng-container>
                        <i class="fa fa-fw fa-asterisk text-danger" aria-hidden="true"></i>
                    </label>
                    <auto-complete
                        id="target"
                        formControlName="target"
                        [matches]="searchResults$ | async"
                        [required]="true"
                        role="textbox"
                        i18n-aria-label="@@label--select-entity-id-to-copy"
                        aria-label="Select the Entity ID to copy">
                    </auto-complete>
                    <ng-container *ngIf="providerForm.get('serviceProviderName').touched && providerForm.get('serviceProviderName').invalid">
                        <small class="form-text text-danger" *ngIf="providerForm.get('serviceProviderName').hasError('required')">
                            <ng-container i18n="@@message--service-resolver-name-required"></ng-container>
                        </small>
                    </ng-container>
                </div>
                <div class="form-group">
                    <label for="serviceProviderName">
                        <ng-container i18n="@@label--metadata-source-name-dashboard-display-only">Metadata Source Name (Dashboard Display Only)</ng-container>
                        <i class="fa fa-fw fa-asterisk text-danger" aria-hidden="true"></i>
                    </label>
                    <input id="serviceProviderName" type="text" class="form-control" placeholder="" formControlName="serviceProviderName" />
                    <ng-container *ngIf="providerForm.get('serviceProviderName').touched && providerForm.get('serviceProviderName').invalid">
                        <small class="form-text text-danger" *ngIf="providerForm.get('serviceProviderName').hasError('required')">
                            <ng-container i18n="@@message--service-resolver-name-required">Service Resolver Name is required</ng-container>
                        </small>
                    </ng-container>
                </div>
                <div class="form-group">
                    <label for="entityId">
                        <ng-container i18n="@@label--service-resolver-entity-id">New Entity ID</ng-container>
                        <i class="fa fa-fw fa-asterisk text-danger" aria-hidden="true"></i>
                    </label>
                    <input id="entityId" type="text" class="form-control" placeholder="" formControlName="entityId" />
                    <ng-container *ngIf="providerForm.get('entityId').touched && providerForm.get('entityId').invalid">
                        <small class="form-text text-danger" *ngIf="providerForm.get('entityId').hasError('required')">
                            <ng-container i18n="@@message--entity-id-required">Entity ID is required</ng-container>
                        </small>
                    </ng-container>
                    <small class="form-text text-danger" *ngIf="providerForm.get('entityId').hasError('unique')">
                        <ng-container i18n="@@message--entity-id-must-be-unique">Entity ID must be unique</ng-container>
                    </small>
                </div>
                <button type="submit" class="btn btn-primary sr-only" [disabled]="providerForm.invalid">
                    <ng-container i18n="@@action--next">Next</ng-container>
                    <i class="fa fa-fw fa-arrow-circle-right fa-lg"></i>
                </button>
            </fieldset>
        </form>
    </div>
    <div class="col col-xs-12 col-xl-6">
        <table class="table table-striped table-sm">
            <thead>
                <tr class="table-secondary">
                    <th i18n="@@label--sections-to-copy">Sections to Copy?</th>
                    <th i18n="@@label--yes">Yes</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let item of sections$ | async; let i = index;">
                    <td scope="col"><i18n-text [key]="item.i18nKey"></i18n-text></td>
                    <td scope="col">
                        <fieldset>
                            <div class="custom-control custom-checkbox">
                                <input type="checkbox"
                                    class="custom-control-input"
                                    (change)="onChange(item.property)"
                                    [checked]="selected.indexOf(item.property) > -1"
                                    [id]="'section-' + i"
                                    [name]="'section-' + i"
                                    role="checkbox" />
                                <label class="custom-control-label" for="section-{{ i }}"></label>
                            </div>
                        </fieldset>
                    </td>
                </tr>
                <tr>
                    <td scope="col" i18n="@@label--check-all-attributes">Check All Attributes</td>
                    <td scope="col">
                        <button class="btn btn-text text-success btn-sm" (click)="onCheckAll()">
                            <i class="fa fa-fw fa-check"></i>
                            <span class="sr-only" i18n="@@label--check-all-attributes">Check All Attributes</span>
                        </button>
                    </td>
                </tr>
                <tr>
                    <td scope="col" i18n="@@label--clear-all-attributes">Clear All Attributes</td>
                    <td scope="col">
                        <button class="btn btn-text text-danger btn-sm" (click)="onCheckNone()">
                            <i class="fa fa-fw fa-times"></i>
                            <span class="sr-only" i18n="@@label--clear-all-attributes">Clear All Attributes</span>
                        </button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>
