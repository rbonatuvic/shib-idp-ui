<form [formGroup]="form" role="form">
    <div class="row" *ngIf="form.get('attributeRelease')" formArrayName="attributeRelease">
        <fieldset class="col col-xl-6 form-section" aria-label="Attribute release table - select the attributes you want to release (default unchecked)" tabindex="0">
            <table class="table table-striped table-sm">
                <thead>
                <tr class="table-secondary">
                    <th i18n="@@label--attribute-name">Attribute Name</th>
                    <th i18n="@@label--yes">Yes</th>
                </tr>
                </thead>
                <tbody>
                <tr *ngFor="let attr of listOfAttributes$ | async; let i=index;">
                    <td scope="col">{{ attr.label }}</td>
                    <td scope="col">
                        <fieldset>
                            <label class="custom-control custom-checkbox">
                                <input type="checkbox"
                                       class="custom-control-input"
                                       (change)="onCheck($event, attr.key)"
                                       [checked]="isChecked(attr.key)"
                                       [attr.name]="attr.label"
                                       [attr.aria-label]="attr.label"
                                       role="checkbox"
                                       aria-checked="false" />
                                <span class="custom-control-indicator"></span>
                                <span class="custom-control-description"></span>
                            </label>
                        </fieldset>
                    </td>
                </tr>
                </tbody>
            </table>
        </fieldset>
    </div>
</form>
