<div class="container-fluid p-3" role="main">
    <section class="section">
        <div class="section-header bg-primary p-2 text-light">
            <div class="row justify-content-between">
                <div class="col-md-4">
                    <span class="display-6" i18n="@@label--current-metadata-sources">Current Metadata Sources</span>
                </div>
                <div class="col-md-4">
                    <provider-search
                        [query]="searchQuery$ | async"
                        [searching]="loading$ | async"
                        (search)="search($event)">
                    </provider-search>
                </div>
            </div>
        </div>
        <div class="section-body p-2 border border-top-0 border-primary">
            <ul class="list-unstyled m-0">
                <li *ngFor="let provider of limited$ | async; index as i" [ngClass]="{'mt-2': i > 0}" aria-label="Provider Item Accordion. Press Spacebar to open">
                    <provider-item
                        [provider]="provider"
                        [isOpen]="(providersOpen$ | async)[provider.entityId]"
                        (select)="edit(provider)"
                        (toggle)="toggleProvider(provider)"
                        (preview)="openPreviewDialog(provider)"
                        (delete)="deleteProvider(provider)">
                    </provider-item>
                </li>
            </ul>
            <div class="mt-3 clearfix" *ngIf="(total$ | async) > limit">
                <ngb-pagination
                    class="float-right"
                    [collectionSize]="total$ | async"
                    [page]="page"
                    [pageSize]="limit"
                    (pageChange)="changePage($event)"
                    aria-label="Pages">
                </ngb-pagination>
            </div>
        </div>
    </section>
</div>
